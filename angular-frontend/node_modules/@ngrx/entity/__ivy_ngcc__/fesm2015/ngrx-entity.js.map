{"version":3,"file":"ngrx-entity.js","sources":["../../../../modules/entity/src/entity_state.ts","../../../../modules/entity/src/state_selectors.ts","../../../../modules/entity/src/state_adapter.ts","../../../../modules/entity/src/utils.ts","../../../../modules/entity/src/unsorted_state_adapter.ts","../../../../modules/entity/src/sorted_state_adapter.ts","../../../../modules/entity/src/create_adapter.ts","../../../../modules/entity/src/models.ts"],"names":[],"mappings":"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","sourcesContent":["import { EntityState } from './models';\n\nexport function getInitialEntityState<V>(): EntityState<V> {\n  return {\n    ids: [],\n    entities: {},\n  };\n}\n\nexport function createInitialStateFactory<V>() {\n  function getInitialState(): EntityState<V>;\n  function getInitialState<S extends object>(\n    additionalState: S\n  ): EntityState<V> & S;\n  function getInitialState(additionalState: any = {}): any {\n    return Object.assign(getInitialEntityState(), additionalState);\n  }\n\n  return { getInitialState };\n}\n","import { createSelector } from '@ngrx/store';\nimport { EntityState, EntitySelectors, Dictionary } from './models';\n\nexport function createSelectorsFactory<T>() {\n  function getSelectors(): EntitySelectors<T, EntityState<T>>;\n  function getSelectors<V>(\n    selectState: (state: V) => EntityState<T>\n  ): EntitySelectors<T, V>;\n  function getSelectors(\n    selectState?: (state: any) => EntityState<T>\n  ): EntitySelectors<T, any> {\n    const selectIds = (state: any) => state.ids;\n    const selectEntities = (state: EntityState<T>) => state.entities;\n    const selectAll = createSelector(\n      selectIds,\n      selectEntities,\n      (ids: T[], entities: Dictionary<T>): any =>\n        ids.map((id: any) => (entities as any)[id])\n    );\n\n    const selectTotal = createSelector(selectIds, (ids) => ids.length);\n\n    if (!selectState) {\n      return {\n        selectIds,\n        selectEntities,\n        selectAll,\n        selectTotal,\n      };\n    }\n\n    return {\n      selectIds: createSelector(selectState, selectIds),\n      selectEntities: createSelector(selectState, selectEntities),\n      selectAll: createSelector(selectState, selectAll),\n      selectTotal: createSelector(selectState, selectTotal),\n    };\n  }\n\n  return { getSelectors };\n}\n","import { EntityState } from './models';\n\nexport enum DidMutate {\n  EntitiesOnly,\n  Both,\n  None,\n}\n\nexport function createStateOperator<V, R>(\n  mutator: (arg: R, state: EntityState<V>) => DidMutate\n): EntityState<V>;\nexport function createStateOperator<V, R>(\n  mutator: (arg: any, state: any) => DidMutate\n): any {\n  return function operation<S extends EntityState<V>>(arg: R, state: any): S {\n    const clonedEntityState: EntityState<V> = {\n      ids: [...state.ids],\n      entities: { ...state.entities },\n    };\n\n    const didMutate = mutator(arg, clonedEntityState);\n\n    if (didMutate === DidMutate.Both) {\n      return Object.assign({}, state, clonedEntityState);\n    }\n\n    if (didMutate === DidMutate.EntitiesOnly) {\n      return {\n        ...state,\n        entities: clonedEntityState.entities,\n      };\n    }\n\n    return state;\n  };\n}\n","import { isDevMode } from '@angular/core';\nimport { IdSelector } from './models';\n\nexport function selectIdValue<T>(entity: T, selectId: IdSelector<T>) {\n  const key = selectId(entity);\n\n  if (isDevMode() && key === undefined) {\n    console.warn(\n      '@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.',\n      'You should probably provide your own `selectId` implementation.',\n      'The entity that was passed:',\n      entity,\n      'The `selectId` implementation:',\n      selectId.toString()\n    );\n  }\n\n  return key;\n}\n","import {\n  EntityState,\n  EntityStateAdapter,\n  IdSelector,\n  Update,\n  Predicate,\n  EntityMap,\n  EntityMapOneNum,\n  EntityMapOneStr,\n} from './models';\nimport { createStateOperator, DidMutate } from './state_adapter';\nimport { selectIdValue } from './utils';\n\nexport function createUnsortedStateAdapter<T>(\n  selectId: IdSelector<T>\n): EntityStateAdapter<T>;\nexport function createUnsortedStateAdapter<T>(selectId: IdSelector<T>): any {\n  type R = EntityState<T>;\n\n  function addOneMutably(entity: T, state: R): DidMutate;\n  function addOneMutably(entity: any, state: any): DidMutate {\n    const key = selectIdValue(entity, selectId);\n\n    if (key in state.entities) {\n      return DidMutate.None;\n    }\n\n    state.ids.push(key);\n    state.entities[key] = entity;\n\n    return DidMutate.Both;\n  }\n\n  function addManyMutably(entities: T[], state: R): DidMutate;\n  function addManyMutably(entities: any[], state: any): DidMutate {\n    let didMutate = false;\n\n    for (const entity of entities) {\n      didMutate = addOneMutably(entity, state) !== DidMutate.None || didMutate;\n    }\n\n    return didMutate ? DidMutate.Both : DidMutate.None;\n  }\n\n  function setAllMutably(entities: T[], state: R): DidMutate;\n  function setAllMutably(entities: any[], state: any): DidMutate {\n    state.ids = [];\n    state.entities = {};\n\n    addManyMutably(entities, state);\n\n    return DidMutate.Both;\n  }\n\n  function setOneMutably(entity: T, state: R): DidMutate;\n  function setOneMutably(entity: any, state: any): DidMutate {\n    const key = selectIdValue(entity, selectId);\n\n    if (key in state.entities) {\n      state.entities[key] = entity;\n      return DidMutate.EntitiesOnly;\n    }\n\n    state.ids.push(key);\n    state.entities[key] = entity;\n\n    return DidMutate.Both;\n  }\n\n  function removeOneMutably(key: T, state: R): DidMutate;\n  function removeOneMutably(key: any, state: any): DidMutate {\n    return removeManyMutably([key], state);\n  }\n\n  function removeManyMutably(keys: T[], state: R): DidMutate;\n  function removeManyMutably(predicate: Predicate<T>, state: R): DidMutate;\n  function removeManyMutably(\n    keysOrPredicate: any[] | Predicate<T>,\n    state: any\n  ): DidMutate {\n    const keys =\n      keysOrPredicate instanceof Array\n        ? keysOrPredicate\n        : state.ids.filter((key: any) => keysOrPredicate(state.entities[key]));\n\n    const didMutate =\n      keys\n        .filter((key: any) => key in state.entities)\n        .map((key: any) => delete state.entities[key]).length > 0;\n\n    if (didMutate) {\n      state.ids = state.ids.filter((id: any) => id in state.entities);\n    }\n\n    return didMutate ? DidMutate.Both : DidMutate.None;\n  }\n\n  function removeAll<S extends R>(state: S): S;\n  function removeAll<S extends R>(state: any): S {\n    return Object.assign({}, state, {\n      ids: [],\n      entities: {},\n    });\n  }\n\n  function takeNewKey(\n    keys: { [id: string]: string },\n    update: Update<T>,\n    state: R\n  ): void;\n  function takeNewKey(\n    keys: { [id: string]: any },\n    update: Update<T>,\n    state: any\n  ): boolean {\n    const original = state.entities[update.id];\n    const updated: T = Object.assign({}, original, update.changes);\n    const newKey = selectIdValue(updated, selectId);\n    const hasNewKey = newKey !== update.id;\n\n    if (hasNewKey) {\n      keys[update.id] = newKey;\n      delete state.entities[update.id];\n    }\n\n    state.entities[newKey] = updated;\n\n    return hasNewKey;\n  }\n\n  function updateOneMutably(update: Update<T>, state: R): DidMutate;\n  function updateOneMutably(update: any, state: any): DidMutate {\n    return updateManyMutably([update], state);\n  }\n\n  function updateManyMutably(updates: Update<T>[], state: R): DidMutate;\n  function updateManyMutably(updates: any[], state: any): DidMutate {\n    const newKeys: { [id: string]: string } = {};\n\n    updates = updates.filter((update) => update.id in state.entities);\n\n    const didMutateEntities = updates.length > 0;\n\n    if (didMutateEntities) {\n      const didMutateIds =\n        updates.filter((update) => takeNewKey(newKeys, update, state)).length >\n        0;\n\n      if (didMutateIds) {\n        state.ids = state.ids.map((id: any) => newKeys[id] || id);\n        return DidMutate.Both;\n      } else {\n        return DidMutate.EntitiesOnly;\n      }\n    }\n\n    return DidMutate.None;\n  }\n\n  function mapMutably(map: EntityMap<T>, state: R): DidMutate;\n  function mapMutably(map: any, state: any): DidMutate {\n    const changes: Update<T>[] = state.ids.reduce(\n      (changes: any[], id: string | number) => {\n        const change = map(state.entities[id]);\n        if (change !== state.entities[id]) {\n          changes.push({ id, changes: change });\n        }\n        return changes;\n      },\n      []\n    );\n    const updates = changes.filter(({ id }) => id in state.entities);\n\n    return updateManyMutably(updates, state);\n  }\n\n  function mapOneMutably(map: EntityMapOneNum<T>, state: R): DidMutate;\n  function mapOneMutably(map: EntityMapOneStr<T>, state: R): DidMutate;\n  function mapOneMutably({ map, id }: any, state: any): DidMutate {\n    const entity = state.entities[id];\n    if (!entity) {\n      return DidMutate.None;\n    }\n\n    const updatedEntity = map(entity);\n    return updateOneMutably(\n      {\n        id: id,\n        changes: updatedEntity,\n      },\n      state\n    );\n  }\n\n  function upsertOneMutably(entity: T, state: R): DidMutate;\n  function upsertOneMutably(entity: any, state: any): DidMutate {\n    return upsertManyMutably([entity], state);\n  }\n\n  function upsertManyMutably(entities: T[], state: R): DidMutate;\n  function upsertManyMutably(entities: any[], state: any): DidMutate {\n    const added: any[] = [];\n    const updated: any[] = [];\n\n    for (const entity of entities) {\n      const id = selectIdValue(entity, selectId);\n      if (id in state.entities) {\n        updated.push({ id, changes: entity });\n      } else {\n        added.push(entity);\n      }\n    }\n\n    const didMutateByUpdated = updateManyMutably(updated, state);\n    const didMutateByAdded = addManyMutably(added, state);\n\n    switch (true) {\n      case didMutateByAdded === DidMutate.None &&\n        didMutateByUpdated === DidMutate.None:\n        return DidMutate.None;\n      case didMutateByAdded === DidMutate.Both ||\n        didMutateByUpdated === DidMutate.Both:\n        return DidMutate.Both;\n      default:\n        return DidMutate.EntitiesOnly;\n    }\n  }\n\n  return {\n    removeAll,\n    addOne: createStateOperator(addOneMutably),\n    addMany: createStateOperator(addManyMutably),\n    addAll: createStateOperator(setAllMutably),\n    setAll: createStateOperator(setAllMutably),\n    setOne: createStateOperator(setOneMutably),\n    updateOne: createStateOperator(updateOneMutably),\n    updateMany: createStateOperator(updateManyMutably),\n    upsertOne: createStateOperator(upsertOneMutably),\n    upsertMany: createStateOperator(upsertManyMutably),\n    removeOne: createStateOperator(removeOneMutably),\n    removeMany: createStateOperator(removeManyMutably),\n    map: createStateOperator(mapMutably),\n    mapOne: createStateOperator(mapOneMutably),\n  };\n}\n","import {\n  EntityState,\n  IdSelector,\n  Comparer,\n  EntityStateAdapter,\n  Update,\n  EntityMap,\n  EntityMapOneNum,\n  EntityMapOneStr,\n} from './models';\nimport { createStateOperator, DidMutate } from './state_adapter';\nimport { createUnsortedStateAdapter } from './unsorted_state_adapter';\nimport { selectIdValue } from './utils';\n\nexport function createSortedStateAdapter<T>(\n  selectId: IdSelector<T>,\n  sort: Comparer<T>\n): EntityStateAdapter<T>;\nexport function createSortedStateAdapter<T>(selectId: any, sort: any): any {\n  type R = EntityState<T>;\n\n  const { removeOne, removeMany, removeAll } = createUnsortedStateAdapter(\n    selectId\n  );\n\n  function addOneMutably(entity: T, state: R): DidMutate;\n  function addOneMutably(entity: any, state: any): DidMutate {\n    return addManyMutably([entity], state);\n  }\n\n  function addManyMutably(newModels: T[], state: R): DidMutate;\n  function addManyMutably(newModels: any[], state: any): DidMutate {\n    const models = newModels.filter(\n      (model) => !(selectIdValue(model, selectId) in state.entities)\n    );\n\n    if (models.length === 0) {\n      return DidMutate.None;\n    } else {\n      merge(models, state);\n      return DidMutate.Both;\n    }\n  }\n\n  function setAllMutably(models: T[], state: R): DidMutate;\n  function setAllMutably(models: any[], state: any): DidMutate {\n    state.entities = {};\n    state.ids = [];\n\n    addManyMutably(models, state);\n\n    return DidMutate.Both;\n  }\n\n  function setOneMutably(entity: T, state: R): DidMutate;\n  function setOneMutably(entity: any, state: any): DidMutate {\n    const id = selectIdValue(entity, selectId);\n    if (id in state.entities) {\n      state.ids = state.ids.filter((val: string | number) => val !== id);\n      merge([entity], state);\n      return DidMutate.Both;\n    } else {\n      return addOneMutably(entity, state);\n    }\n  }\n\n  function updateOneMutably(update: Update<T>, state: R): DidMutate;\n  function updateOneMutably(update: any, state: any): DidMutate {\n    return updateManyMutably([update], state);\n  }\n\n  function takeUpdatedModel(models: T[], update: Update<T>, state: R): boolean;\n  function takeUpdatedModel(models: any[], update: any, state: any): boolean {\n    if (!(update.id in state.entities)) {\n      return false;\n    }\n\n    const original = state.entities[update.id];\n    const updated = Object.assign({}, original, update.changes);\n    const newKey = selectIdValue(updated, selectId);\n\n    delete state.entities[update.id];\n\n    models.push(updated);\n\n    return newKey !== update.id;\n  }\n\n  function updateManyMutably(updates: Update<T>[], state: R): DidMutate;\n  function updateManyMutably(updates: any[], state: any): DidMutate {\n    const models: T[] = [];\n\n    const didMutateIds =\n      updates.filter((update) => takeUpdatedModel(models, update, state))\n        .length > 0;\n\n    if (models.length === 0) {\n      return DidMutate.None;\n    } else {\n      const originalIds = state.ids;\n      const updatedIndexes: any[] = [];\n      state.ids = state.ids.filter((id: any, index: number) => {\n        if (id in state.entities) {\n          return true;\n        } else {\n          updatedIndexes.push(index);\n          return false;\n        }\n      });\n\n      merge(models, state);\n\n      if (\n        !didMutateIds &&\n        updatedIndexes.every((i: number) => state.ids[i] === originalIds[i])\n      ) {\n        return DidMutate.EntitiesOnly;\n      } else {\n        return DidMutate.Both;\n      }\n    }\n  }\n\n  function mapMutably(map: EntityMap<T>, state: R): DidMutate;\n  function mapMutably(updatesOrMap: any, state: any): DidMutate {\n    const updates: Update<T>[] = state.ids.reduce(\n      (changes: any[], id: string | number) => {\n        const change = updatesOrMap(state.entities[id]);\n        if (change !== state.entities[id]) {\n          changes.push({ id, changes: change });\n        }\n        return changes;\n      },\n      []\n    );\n\n    return updateManyMutably(updates, state);\n  }\n\n  function mapOneMutably(map: EntityMapOneNum<T>, state: R): DidMutate;\n  function mapOneMutably(map: EntityMapOneStr<T>, state: R): DidMutate;\n  function mapOneMutably({ map, id }: any, state: any): DidMutate {\n    const entity = state.entities[id];\n    if (!entity) {\n      return DidMutate.None;\n    }\n\n    const updatedEntity = map(entity);\n    return updateOneMutably(\n      {\n        id: id,\n        changes: updatedEntity,\n      },\n      state\n    );\n  }\n\n  function upsertOneMutably(entity: T, state: R): DidMutate;\n  function upsertOneMutably(entity: any, state: any): DidMutate {\n    return upsertManyMutably([entity], state);\n  }\n\n  function upsertManyMutably(entities: T[], state: R): DidMutate;\n  function upsertManyMutably(entities: any[], state: any): DidMutate {\n    const added: any[] = [];\n    const updated: any[] = [];\n\n    for (const entity of entities) {\n      const id = selectIdValue(entity, selectId);\n      if (id in state.entities) {\n        updated.push({ id, changes: entity });\n      } else {\n        added.push(entity);\n      }\n    }\n\n    const didMutateByUpdated = updateManyMutably(updated, state);\n    const didMutateByAdded = addManyMutably(added, state);\n\n    switch (true) {\n      case didMutateByAdded === DidMutate.None &&\n        didMutateByUpdated === DidMutate.None:\n        return DidMutate.None;\n      case didMutateByAdded === DidMutate.Both ||\n        didMutateByUpdated === DidMutate.Both:\n        return DidMutate.Both;\n      default:\n        return DidMutate.EntitiesOnly;\n    }\n  }\n\n  function merge(models: T[], state: R): void;\n  function merge(models: any[], state: any): void {\n    models.sort(sort);\n\n    const ids: any[] = [];\n\n    let i = 0;\n    let j = 0;\n\n    while (i < models.length && j < state.ids.length) {\n      const model = models[i];\n      const modelId = selectIdValue(model, selectId);\n      const entityId = state.ids[j];\n      const entity = state.entities[entityId];\n\n      if (sort(model, entity) <= 0) {\n        ids.push(modelId);\n        i++;\n      } else {\n        ids.push(entityId);\n        j++;\n      }\n    }\n\n    if (i < models.length) {\n      state.ids = ids.concat(models.slice(i).map(selectId));\n    } else {\n      state.ids = ids.concat(state.ids.slice(j));\n    }\n\n    models.forEach((model, i) => {\n      state.entities[selectId(model)] = model;\n    });\n  }\n\n  return {\n    removeOne,\n    removeMany,\n    removeAll,\n    addOne: createStateOperator(addOneMutably),\n    updateOne: createStateOperator(updateOneMutably),\n    upsertOne: createStateOperator(upsertOneMutably),\n    addAll: createStateOperator(setAllMutably),\n    setAll: createStateOperator(setAllMutably),\n    setOne: createStateOperator(setOneMutably),\n    addMany: createStateOperator(addManyMutably),\n    updateMany: createStateOperator(updateManyMutably),\n    upsertMany: createStateOperator(upsertManyMutably),\n    map: createStateOperator(mapMutably),\n    mapOne: createStateOperator(mapOneMutably),\n  };\n}\n","import { createSelector } from '@ngrx/store';\nimport {\n  EntityDefinition,\n  Comparer,\n  IdSelector,\n  EntityAdapter,\n} from './models';\nimport { createInitialStateFactory } from './entity_state';\nimport { createSelectorsFactory } from './state_selectors';\nimport { createSortedStateAdapter } from './sorted_state_adapter';\nimport { createUnsortedStateAdapter } from './unsorted_state_adapter';\n\nexport function createEntityAdapter<T>(\n  options: {\n    selectId?: IdSelector<T>;\n    sortComparer?: false | Comparer<T>;\n  } = {}\n): EntityAdapter<T> {\n  const { selectId, sortComparer }: EntityDefinition<T> = {\n    sortComparer: false,\n    selectId: (instance: any) => instance.id,\n    ...options,\n  };\n\n  const stateFactory = createInitialStateFactory<T>();\n  const selectorsFactory = createSelectorsFactory<T>();\n  const stateAdapter = sortComparer\n    ? createSortedStateAdapter(selectId, sortComparer)\n    : createUnsortedStateAdapter(selectId);\n\n  return {\n    selectId,\n    sortComparer,\n    ...stateFactory,\n    ...selectorsFactory,\n    ...stateAdapter,\n  };\n}\n","export type Comparer<T> = (a: T, b: T) => number;\n\nexport type IdSelectorStr<T> = (model: T) => string;\nexport type IdSelectorNum<T> = (model: T) => number;\n\nexport type IdSelector<T> = IdSelectorStr<T> | IdSelectorNum<T>;\n\nexport interface DictionaryNum<T> {\n  [id: number]: T | undefined;\n}\n\nexport abstract class Dictionary<T> implements DictionaryNum<T> {\n  [id: string]: T | undefined;\n}\n\nexport interface UpdateStr<T> {\n  id: string;\n  changes: Partial<T>;\n}\n\nexport interface UpdateNum<T> {\n  id: number;\n  changes: Partial<T>;\n}\n\nexport type Update<T> = UpdateStr<T> | UpdateNum<T>;\n\nexport type Predicate<T> = (entity: T) => boolean;\n\nexport type EntityMap<T> = (entity: T) => T;\n\nexport interface EntityMapOneNum<T> {\n  id: number;\n  map: EntityMap<T>;\n}\n\nexport interface EntityMapOneStr<T> {\n  id: string;\n  map: EntityMap<T>;\n}\n\nexport type EntityMapOne<T> = EntityMapOneNum<T> | EntityMapOneStr<T>;\n\nexport interface EntityState<T> {\n  ids: string[] | number[];\n  entities: Dictionary<T>;\n}\n\nexport interface EntityDefinition<T> {\n  selectId: IdSelector<T>;\n  sortComparer: false | Comparer<T>;\n}\n\nexport interface EntityStateAdapter<T> {\n  addOne<S extends EntityState<T>>(entity: T, state: S): S;\n  addMany<S extends EntityState<T>>(entities: T[], state: S): S;\n\n  /** @deprecated addAll has been renamed. Use setAll instead. */\n  addAll<S extends EntityState<T>>(entities: T[], state: S): S;\n\n  setAll<S extends EntityState<T>>(entities: T[], state: S): S;\n  setOne<S extends EntityState<T>>(entity: T, state: S): S;\n\n  removeOne<S extends EntityState<T>>(key: string, state: S): S;\n  removeOne<S extends EntityState<T>>(key: number, state: S): S;\n\n  removeMany<S extends EntityState<T>>(keys: string[], state: S): S;\n  removeMany<S extends EntityState<T>>(keys: number[], state: S): S;\n  removeMany<S extends EntityState<T>>(predicate: Predicate<T>, state: S): S;\n\n  removeAll<S extends EntityState<T>>(state: S): S;\n\n  updateOne<S extends EntityState<T>>(update: Update<T>, state: S): S;\n  updateMany<S extends EntityState<T>>(updates: Update<T>[], state: S): S;\n\n  upsertOne<S extends EntityState<T>>(entity: T, state: S): S;\n  upsertMany<S extends EntityState<T>>(entities: T[], state: S): S;\n\n  mapOne<S extends EntityState<T>>(map: EntityMapOne<T>, state: S): S;\n  map<S extends EntityState<T>>(map: EntityMap<T>, state: S): S;\n}\n\nexport interface EntitySelectors<T, V> {\n  selectIds: (state: V) => string[] | number[];\n  selectEntities: (state: V) => Dictionary<T>;\n  selectAll: (state: V) => T[];\n  selectTotal: (state: V) => number;\n}\n\nexport interface EntityAdapter<T> extends EntityStateAdapter<T> {\n  selectId: IdSelector<T>;\n  sortComparer: false | Comparer<T>;\n  getInitialState(): EntityState<T>;\n  getInitialState<S extends object>(state: S): EntityState<T> & S;\n  getSelectors(): EntitySelectors<T, EntityState<T>>;\n  getSelectors<V>(\n    selectState: (state: V) => EntityState<T>\n  ): EntitySelectors<T, V>;\n}\n"]}